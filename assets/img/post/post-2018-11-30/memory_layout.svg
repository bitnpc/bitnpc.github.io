<svg width="620" height="880" viewBox="0 0 620 880"
     xmlns="http://www.w3.org/2000/svg"
     font-family="Menlo, Consolas, monospace">

  <!-- 背景 -->
  <rect x="0" y="0" width="620" height="880" fill="#f9fafb"/>

  <!-- 标题 -->
  <text x="310" y="32" text-anchor="middle"
        font-size="20" font-weight="bold">
    64-bit Process Virtual Memory Layout
  </text>

  <!-- 用户态 / 内核态标注 -->
  <text x="70" y="80" font-size="13" fill="#333">User Space</text>
  <text x="70" y="700" font-size="13" fill="#333">Kernel Space</text>

  <!-- 主内存框 -->
  <rect x="200" y="80" width="260" height="720"
        fill="white" stroke="#333" stroke-width="2"/>

  <!-- Text -->
  <rect x="200" y="80" width="260" height="90" fill="#cce5ff"/>
  <text x="330" y="115" text-anchor="middle" font-size="14">Text (.text)</text>
  <text x="330" y="135" text-anchor="middle" font-size="12">Executable Code</text>
  <text x="470" y="95" font-size="11">0x0000000000400000</text>

  <!-- Data -->
  <rect x="200" y="170" width="260" height="90" fill="#d4edda"/>
  <text x="330" y="205" text-anchor="middle" font-size="14">Data (.data)</text>
  <text x="330" y="225" text-anchor="middle" font-size="12">Initialized Globals</text>
  <text x="470" y="185" font-size="11">0x0000000000600000</text>

  <!-- BSS -->
  <rect x="200" y="260" width="260" height="80" fill="#fff3cd"/>
  <text x="330" y="305" text-anchor="middle" font-size="14">BSS (.bss)</text>
  <text x="330" y="325" text-anchor="middle" font-size="12">Uninitialized</text>
  <text x="470" y="275" font-size="11">0x0000000000700000</text>

  <!-- Heap -->
  <rect x="200" y="340" width="260" height="130" fill="#e2e3ff"/>
  <text x="330" y="390" text-anchor="middle" font-size="14">Heap</text>
  <text x="330" y="410" text-anchor="middle" font-size="12">malloc / new</text>
  <text x="330" y="430" text-anchor="middle" font-size="12">↑ grows up</text>
  <text x="470" y="355" font-size="11">0x0000000000800000</text>

  <!-- mmap -->
  <rect x="200" y="470" width="260" height="140" fill="#f1f1f1"/>
  <text x="330" y="535" text-anchor="middle" font-size="14">mmap / Shared Libs</text>
  <text x="330" y="555" text-anchor="middle" font-size="12">libc / dylib / anon</text>
  <text x="470" y="485" font-size="11">~0x00007f0000000000</text>

  <!-- Stack -->
  <rect x="200" y="610" width="260" height="120" fill="#f8d7da"/>
  <text x="330" y="660" text-anchor="middle" font-size="14">Stack</text>
  <text x="330" y="680" text-anchor="middle" font-size="12">Function Frames</text>
  <text x="330" y="700" text-anchor="middle" font-size="12">↓ grows down</text>
  <text x="470" y="625" font-size="11">0x00007ffffffff000</text>

  <!-- 内核空间 -->
  <rect x="200" y="730" width="260" height="70" fill="#e0e0e0"/>
  <text x="330" y="765" text-anchor="middle" font-size="14">Kernel Space</text>
  <text x="330" y="785" text-anchor="middle" font-size="12">Not Accessible in User Mode</text>
  <text x="470" y="745" font-size="11">0xffff800000000000</text>

  <!-- 地址轴 -->
  <line x1="140" y1="80" x2="140" y2="800" stroke="#333" stroke-width="2"/>
  <polygon points="140,70 134,82 146,82" fill="#333"/>
  <polygon points="140,810 134,798 146,798" fill="#333"/>

  <text x="95" y="95" font-size="12">Low Addr</text>
  <text x="90" y="815" font-size="12">High Addr</text>

</svg>
