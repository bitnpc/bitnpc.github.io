<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="FFmpeg 简介" />
<meta property="og:locale" content="en" />
<meta name="description" content="FFmpeg 的定义 FFmpeg 既是一款音视频编解码工具，也是一组音视频编解码开发套件。 FFmpeg 支持多种协议，提供了多种多媒体格式的封装和解封装，音视频的编码、解码，采样率转换，码率转换，色彩格式转换等丰富的功能。 FF: fast forword mpeg: Moving Picture Experts Group" />
<meta property="og:description" content="FFmpeg 的定义 FFmpeg 既是一款音视频编解码工具，也是一组音视频编解码开发套件。 FFmpeg 支持多种协议，提供了多种多媒体格式的封装和解封装，音视频的编码、解码，采样率转换，码率转换，色彩格式转换等丰富的功能。 FF: fast forword mpeg: Moving Picture Experts Group" />
<link rel="canonical" href="https://bitnpc.github.io/posts/ffmpeg_intro/" />
<meta property="og:url" content="https://bitnpc.github.io/posts/ffmpeg_intro/" />
<meta property="og:site_name" content="Tony" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-05-25T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="FFmpeg 简介" />
<meta name="twitter:site" content="@bitnpc" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-05-25T00:00:00+08:00","datePublished":"2022-05-25T00:00:00+08:00","description":"FFmpeg 的定义 FFmpeg 既是一款音视频编解码工具，也是一组音视频编解码开发套件。 FFmpeg 支持多种协议，提供了多种多媒体格式的封装和解封装，音视频的编码、解码，采样率转换，码率转换，色彩格式转换等丰富的功能。 FF: fast forword mpeg: Moving Picture Experts Group","headline":"FFmpeg 简介","mainEntityOfPage":{"@type":"WebPage","@id":"https://bitnpc.github.io/posts/ffmpeg_intro/"},"url":"https://bitnpc.github.io/posts/ffmpeg_intro/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>FFmpeg 简介 | Tony
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Tony">
<meta name="application-name" content="Tony">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
        
        <img src="/assets/img/avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <h1 class="site-title">
      <a href="/">Tony</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">不懂音乐的程序员不是好厨师</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/bitnpc"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/bitnpc"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['bitnpc','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>FFmpeg 简介</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>FFmpeg 简介</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1653408000"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  May 25, 2022
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://twitter.com/bitnpc">Tony</a>
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1244 words"
>
  <em>6 min</em> read</span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <h2 id="ffmpeg-的定义"><span class="me-2">FFmpeg 的定义</span><a href="#ffmpeg-的定义" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p><code class="language-plaintext highlighter-rouge">FFmpeg</code> 既是一款音视频编解码工具，也是一组音视频编解码开发套件。
<code class="language-plaintext highlighter-rouge">FFmpeg</code> 支持多种协议，提供了多种多媒体格式的封装和解封装，音视频的编码、解码，采样率转换，码率转换，色彩格式转换等丰富的功能。
FF: <code class="language-plaintext highlighter-rouge">fast forword</code>
mpeg: <code class="language-plaintext highlighter-rouge">Moving Picture Experts Group</code></p>

<h3 id="音视频其他概念"><span class="me-2">音视频其他概念</span><a href="#音视频其他概念" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ul>
  <li>协议：如 HLS，rtsp</li>
  <li>封装格式：如 <code class="language-plaintext highlighter-rouge">mov</code>，<code class="language-plaintext highlighter-rouge">mp4</code>，<code class="language-plaintext highlighter-rouge">mkv</code>，<code class="language-plaintext highlighter-rouge">rmvb</code>。一个视频文件可以封装多组音视频编码流</li>
  <li>编码格式：视频编码如 <code class="language-plaintext highlighter-rouge">H.264</code>，<code class="language-plaintext highlighter-rouge">HEVC(H.265)</code>，音频编码如 <code class="language-plaintext highlighter-rouge">mp3</code>，<code class="language-plaintext highlighter-rouge">aac</code>，<code class="language-plaintext highlighter-rouge">G.711</code>，<code class="language-plaintext highlighter-rouge">opus</code></li>
</ul>

<h2 id="ffmpeg-的使用"><span class="me-2">FFmpeg 的使用</span><a href="#ffmpeg-的使用" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>在 <code class="language-plaintext highlighter-rouge">macOS</code> 平台上，可以使用 <code class="language-plaintext highlighter-rouge">homebrew</code> 安装 <code class="language-plaintext highlighter-rouge">ffmpeg</code> 的可执行文件</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>brew <span class="nb">install </span>ffmpeg

<span class="nv">$ </span>ffmpeg <span class="nt">-version</span>
ffmpeg version 5.1.2 Copyright <span class="o">(</span>c<span class="o">)</span> 2000-2022 the FFmpeg developers
built with Apple clang version 14.0.0 <span class="o">(</span>clang-1400.0.29.202<span class="o">)</span>
configuration: <span class="nt">--prefix</span><span class="o">=</span>/opt/homebrew/Cellar/ffmpeg/5.1.2_6 <span class="nt">--enable-shared</span> <span class="nt">--enable-pthreads</span> <span class="nt">--enable-version3</span> <span class="nt">--cc</span><span class="o">=</span>clang <span class="nt">--host-cflags</span><span class="o">=</span> <span class="nt">--host-ldflags</span><span class="o">=</span> <span class="nt">--enable-ffplay</span> <span class="nt">--enable-gnutls</span> <span class="nt">--enable-gpl</span> <span class="nt">--enable-libaom</span> <span class="nt">--enable-libaribb24</span> <span class="nt">--enable-libbluray</span> <span class="nt">--enable-libdav1d</span> <span class="nt">--enable-libmp3lame</span> <span class="nt">--enable-libopus</span> <span class="nt">--enable-librav1e</span> <span class="nt">--enable-librist</span> <span class="nt">--enable-librubberband</span> <span class="nt">--enable-libsnappy</span> <span class="nt">--enable-libsrt</span> <span class="nt">--enable-libsvtav1</span> <span class="nt">--enable-libtesseract</span> <span class="nt">--enable-libtheora</span> <span class="nt">--enable-libvidstab</span> <span class="nt">--enable-libvmaf</span> <span class="nt">--enable-libvorbis</span> <span class="nt">--enable-libvpx</span> <span class="nt">--enable-libwebp</span> <span class="nt">--enable-libx264</span> <span class="nt">--enable-libx265</span> <span class="nt">--enable-libxml2</span> <span class="nt">--enable-libxvid</span> <span class="nt">--enable-lzma</span> <span class="nt">--enable-libfontconfig</span> <span class="nt">--enable-libfreetype</span> <span class="nt">--enable-frei0r</span> <span class="nt">--enable-libass</span> <span class="nt">--enable-libopencore-amrnb</span> <span class="nt">--enable-libopencore-amrwb</span> <span class="nt">--enable-libopenjpeg</span> <span class="nt">--enable-libspeex</span> <span class="nt">--enable-libsoxr</span> <span class="nt">--enable-libzmq</span> <span class="nt">--enable-libzimg</span> <span class="nt">--disable-libjack</span> <span class="nt">--disable-indev</span><span class="o">=</span>jack <span class="nt">--enable-videotoolbox</span> <span class="nt">--enable-neon</span>
libavutil      57. 28.100 / 57. 28.100
libavcodec     59. 37.100 / 59. 37.100
libavformat    59. 27.100 / 59. 27.100
libavdevice    59.  7.100 / 59.  7.100
libavfilter     8. 44.100 /  8. 44.100
libswscale      6.  7.100 /  6.  7.100
libswresample   4.  7.100 /  4.  7.100
libpostproc    56.  6.100 / 56.  6.100
</pre></td></tr></tbody></table></code></div></div>

<p>一个简单的例子</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>ffmpeg <span class="nt">-i</span> input.mp4 output.avi
Input <span class="c">#0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':</span>
  Metadata:
    major_brand     : isom
    minor_version   : 512
    compatible_brands: isomiso2avc1mp41
    encoder         : Lavf58.76.100
  Duration: 00:00:07.62, start: 0.000000, bitrate: 13805 kb/s
  Stream <span class="c">#0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, bt709), 1920x1080, 13679 kb/s, 29.97 fps, 29.97 tbr, 30k tbn, 59.94 tbc (default)</span>
    Metadata:
      handler_name    : Core Media Video
      vendor_id       : <span class="o">[</span>0][0][0][0]
  Stream <span class="c">#0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 130 kb/s (default)</span>
    Metadata:
      handler_name    : Core Media Audio
      vendor_id       : <span class="o">[</span>0][0][0][0]
Stream mapping:
  Stream <span class="c">#0:0 -&gt; #0:0 (h264 (native) -&gt; mpeg4 (native))</span>
  Stream <span class="c">#0:1 -&gt; #0:1 (aac (native) -&gt; mp3 (libmp3lame))</span>
Press <span class="o">[</span>q] to stop, <span class="o">[</span>?] <span class="k">for </span><span class="nb">help
</span>Output <span class="c">#0, avi, to 'output.avi':</span>
  Metadata:
    major_brand     : isom
    minor_version   : 512
    compatible_brands: isomiso2avc1mp41
    ISFT            : Lavf58.76.100
  Stream <span class="c">#0:0(und): Video: mpeg4 (FMP4 / 0x34504D46), yuv420p(tv, bt709, progressive), 1920x1080, q=2-31, 200 kb/s, 29.97 fps, 29.97 tbn (default)</span>
    Metadata:
      handler_name    : Core Media Video
      vendor_id       : <span class="o">[</span>0][0][0][0]
      encoder         : Lavc58.134.100 mpeg4
    Side data:
      cpb: bitrate max/min/avg: 0/0/200000 buffer size: 0 vbv_delay: N/A
  Stream <span class="c">#0:1(und): Audio: mp3 (U[0][0][0] / 0x0055), 44100 Hz, stereo, fltp (default)</span>
    Metadata:
      handler_name    : Core Media Audio
      vendor_id       : <span class="o">[</span>0][0][0][0]
      encoder         : Lavc58.134.100 libmp3lame
<span class="nv">frame</span><span class="o">=</span>    1 <span class="nv">fps</span><span class="o">=</span>0.0 <span class="nv">q</span><span class="o">=</span>6.9 <span class="nv">size</span><span class="o">=</span>     133kB <span class="nb">time</span><span class="o">=</span>00:00:00.15 <span class="nv">bitrate</span><span class="o">=</span>6965.1kbits/s <span class="nv">speed</span><span class="o">=</span>9.2frame<span class="o">=</span>   94 <span class="nv">fps</span><span class="o">=</span>0.0 <span class="nv">q</span><span class="o">=</span>31.0 <span class="nv">size</span><span class="o">=</span>    2816kB <span class="nb">time</span><span class="o">=</span>00:00:03.26 <span class="nv">bitrate</span><span class="o">=</span>7064.8kbits/s <span class="nv">speed</span><span class="o">=</span>6.frame<span class="o">=</span>  201 <span class="nv">fps</span><span class="o">=</span>197 <span class="nv">q</span><span class="o">=</span>31.0 <span class="nv">size</span><span class="o">=</span>    4864kB <span class="nb">time</span><span class="o">=</span>00:00:06.81 <span class="nv">bitrate</span><span class="o">=</span>5844.3kbits/s <span class="nv">speed</span><span class="o">=</span>6.frame<span class="o">=</span>  228 <span class="nv">fps</span><span class="o">=</span>202 <span class="nv">q</span><span class="o">=</span>31.0 <span class="nv">Lsize</span><span class="o">=</span>    5363kB <span class="nb">time</span><span class="o">=</span>00:00:07.60 <span class="nv">bitrate</span><span class="o">=</span>5775.1kbits/s <span class="nv">speed</span><span class="o">=</span>6.74x
video:5221kB audio:120kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.412835%
</pre></td></tr></tbody></table></code></div></div>

<p>该命令，通过 <code class="language-plaintext highlighter-rouge">-i</code> 参数指定 <code class="language-plaintext highlighter-rouge">input.mp4</code> 作为输入源，然后进行转码和转封装操作，最后输出到 <code class="language-plaintext highlighter-rouge">output.avi</code> 文件。
可以看到，<code class="language-plaintext highlighter-rouge">input.mp4</code> 的封装格式为 <code class="language-plaintext highlighter-rouge">mp4</code>，视频编码为 <code class="language-plaintext highlighter-rouge">h.264</code>，音频编码为 <code class="language-plaintext highlighter-rouge">aac</code>。<code class="language-plaintext highlighter-rouge">output.avi</code> 的封装格式为 <code class="language-plaintext highlighter-rouge">avi</code>，视频编码为 <code class="language-plaintext highlighter-rouge">mpeg4</code>，音频编码为 <code class="language-plaintext highlighter-rouge">mp3</code>。
转化的流程图如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre> _______              ______________
|       |            |              |
| input |  demuxer   | encoded data |   decoder
| file  | ---------&gt; | packets      | -----+
|_______|            |______________|      |
                                           v
                                       _________
                                      |         |
                                      | decoded |
                                      | frames  |
                                      |_________|
 ________             ______________       |
|        |           |              |      |
| output | &lt;-------- | encoded data | &lt;----+
| file   |   muxer   | packets      |   encoder
|________|           |______________|

</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">FFmpeg</code> 中常用的工具主要是 <code class="language-plaintext highlighter-rouge">ffmpeg</code>、<code class="language-plaintext highlighter-rouge">ffprobe</code>、<code class="language-plaintext highlighter-rouge">ffplay</code>。他们分别用户多媒体的编解码工具，内容分析工具和播放器。</p>

<h3 id="ffmpeg-常用命令"><span class="me-2">ffmpeg 常用命令</span><a href="#ffmpeg-常用命令" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ul>
  <li>功能介绍类</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>ffmpeg <span class="nt">--help</span>
<span class="nv">$ </span>ffmpeg <span class="nt">-codecs</span>
<span class="nv">$ </span>ffmpeg <span class="nt">-encoders</span>
<span class="nv">$ </span>ffmpeg <span class="nt">-decoders</span>
<span class="nv">$ </span>ffmpeg <span class="nt">-filters</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>转码类
    <div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>ffmpeg <span class="nt">-i</span> input.rmvb <span class="nt">-vcodec</span> mpeg4 <span class="nt">-b</span>:v 200k <span class="nt">-r</span> 15 <span class="nt">-an</span> output.mp4
</pre></td></tr></tbody></table></code></div>    </div>
    <p>封装格式由 <code class="language-plaintext highlighter-rouge">rmvb</code> 转成 <code class="language-plaintext highlighter-rouge">mp4</code>，视频编码指定为 <code class="language-plaintext highlighter-rouge">mpeg4</code>，视频码率指定 <code class="language-plaintext highlighter-rouge">200kbit/s</code>，视频帧率指定为 <code class="language-plaintext highlighter-rouge">15fps</code>，转码后的文件不包含音频（<code class="language-plaintext highlighter-rouge">-an</code> 参数）</p>
  </li>
</ul>

<h3 id="ffprobe-常用命令"><span class="me-2">ffprobe 常用命令</span><a href="#ffprobe-常用命令" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>ffprobe <span class="nt">-show_packets</span> input.flv
<span class="nv">$ </span>ffprobe <span class="nt">-show_format</span> output.mp4
<span class="c"># 以 CSV 文档输出 Packets 信息</span>
<span class="nv">$ </span>ffprobe <span class="nt">-of</span> csv <span class="nt">-show_packets</span> input.flv
</pre></td></tr></tbody></table></code></div></div>

<h3 id="ffplay-常用命令"><span class="me-2">ffplay 常用命令</span><a href="#ffplay-常用命令" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># 从视频的第 30 秒开始播放，播放 10 秒中的文件</span>
<span class="nv">$ </span>ffplay <span class="nt">-ss</span> 30 <span class="nt">-t</span> 10 input.mp4
</pre></td></tr></tbody></table></code></div></div>

<h2 id="ffmpeg-的基本组成"><span class="me-2">FFmpeg 的基本组成</span><a href="#ffmpeg-的基本组成" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>查看 <code class="language-plaintext highlighter-rouge">ffmpeg</code> 版本时可以看到，<code class="language-plaintext highlighter-rouge">ffmpeg</code> 主要由 8 个模块构成，包括 <code class="language-plaintext highlighter-rouge">libavutil</code>，<code class="language-plaintext highlighter-rouge">libavcodec</code>，<code class="language-plaintext highlighter-rouge">libavformat</code>，<code class="language-plaintext highlighter-rouge">libavdevice</code>，<code class="language-plaintext highlighter-rouge">libavfilter</code>，<code class="language-plaintext highlighter-rouge">libswscale</code>，<code class="language-plaintext highlighter-rouge">libswresample</code>，<code class="language-plaintext highlighter-rouge">libpostproc</code>。
比较老的 <code class="language-plaintext highlighter-rouge">ffmpeg</code> 版本还会编译出 <code class="language-plaintext highlighter-rouge">libavresample</code> 模块，也是用于对音频原始出具进行重采样的，已被废弃，推荐使用 <code class="language-plaintext highlighter-rouge">libswresample</code> 替代。</p>

<h3 id="libavutil"><span class="me-2">libavutil</span><a href="#libavutil" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>The libavutil library is a utility library to aid portable multimedia programming</p>

<h3 id="libswscale"><span class="me-2">libswscale</span><a href="#libswscale" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>The libswscale library performs highly optimized image scaling and colorspace and pixel format conversion operations.</p>

<h3 id="libswresample"><span class="me-2">libswresample</span><a href="#libswresample" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>The libswresample library performs highly optimized audio resampling, rematrixing and sample format conversion operations.</p>

<h3 id="libavcodec"><span class="me-2">libavcodec</span><a href="#libavcodec" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>The libavcodec library provides a generic encoding/decoding framework and contains multiple decoders and encoders for audio, video and subtitle streams, and several bitstream filters.
The shared architecture provides various services ranging from bit stream I/O to DSP optimizations, and makes it suitable for implementing robust and fast codecs as well as for experimentation.</p>

<h3 id="libavformat"><span class="me-2">libavformat</span><a href="#libavformat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>The libavformat library provides a generic framework for multiplexing and demultiplexing (muxing and demuxing) audio, video and subtitle streams. It encompasses multiple muxers and demuxers for multimedia container formats.
It also supports several input and output protocols to access a media resource.</p>

<h3 id="libavdevice"><span class="me-2">libavdevice</span><a href="#libavdevice" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>The libavdevice library provides a generic framework for grabbing from and rendering to many common multimedia input/output devices, and supports several input and output devices, including Video4Linux2, VfW, DShow, and ALSA.</p>

<h3 id="libavfilter"><span class="me-2">libavfilter</span><a href="#libavfilter" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>The libavfilter library provides a generic audio/video filtering framework containing several filters, sources and sinks.</p>

<p>参考资料</p>
<ul>
  <li>https://ffmpeg.org/ffmpeg.html</li>
  <li>https://blog.csdn.net/leixiaohua1020</li>
</ul>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>,
          <a href="/categories/%E9%9F%B3%E8%A7%86%E9%A2%91/">音视频</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/ffmpeg/"
            class="post-tag no-text-decoration"
          >FFmpeg</a>
        
          <a
            href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/"
            class="post-tag no-text-decoration"
          >音视频</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted me-1">Share</span>
  <span class="share-icons">
    
    
    

    
      
      <a
        href="https://twitter.com/intent/tweet?text=FFmpeg%20%E7%AE%80%E4%BB%8B%20-%20Tony&url=https%3A%2F%2Fbitnpc.github.io%2Fposts%2Fffmpeg_intro%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Twitter"
        target="_blank"
        rel="noopener"
        aria-label="Twitter"
      >
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a
        href="https://www.facebook.com/sharer/sharer.php?title=FFmpeg%20%E7%AE%80%E4%BB%8B%20-%20Tony&u=https%3A%2F%2Fbitnpc.github.io%2Fposts%2Fffmpeg_intro%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Facebook"
        target="_blank"
        rel="noopener"
        aria-label="Facebook"
      >
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a
        href="https://t.me/share/url?url=https%3A%2F%2Fbitnpc.github.io%2Fposts%2Fffmpeg_intro%2F&text=FFmpeg%20%E7%AE%80%E4%BB%8B%20-%20Tony"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Telegram"
        target="_blank"
        rel="noopener"
        aria-label="Telegram"
      >
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get the last 5 posts from lastmod list. -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/ComfyUI_in_macOS/">在 macOS 上部署 ComfyUI</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/subset_generate/">子集生成</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/travel_hongkong/">香港之行</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/binary_search/">二分搜索及其应用</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/app_mach_o/">App 的本质和 Mach-O 文件</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/">音视频</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">leetcode</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ios/">iOS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/macos/">macOS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/p2p/">P2P</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bfs/">BFS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/crash/">Crash</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/deepseek/">Deepseek</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/dfs/">DFS</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/av_into/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1647187200"
  data-df="ll"
  
>
  Mar 14, 2022
</time>

              <h4 class="pt-0 my-2">音视频及其数字化表示</h4>
              <div class="text-muted">
                <p>
                  





                  声音和图像是两种不同的感知形式，它们的本质基于物理学的原理和感知机制。

声音和图像的本质
声音是由物体振动产生的机械波。当物体振动时，周围的空气分子也会振动，形成压缩和膨胀的波动。这种机械波通过空气传播，被耳朵中的鼓膜接收，然后通过听觉系统转化为我们能够感知的声音。

声音的特征由两个主要参数决定：频率和振幅。频率决定了声音的音调，而振幅则决定了声音的音量。

图像是通过光传递的信息。光是...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/hls_intro/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1653580800"
  data-df="ll"
  
>
  May 27, 2022
</time>

              <h4 class="pt-0 my-2">HLS 协议介绍</h4>
              <div class="text-muted">
                <p>
                  





                  HLS 协议
HLS 是 HTTP Live Streaming 的缩写，是由苹果公司提出的基于 HTTP 的流媒体网络传输协议，它可以同时支持直播和点播，还支持多清晰度、音视频双轨、字幕等功能。 它的原理是将一整条视频分成多段小的视频，完整的播放是由这一个个片段拼接而成的。
HLS 协议规定：


  视频的封装格式是 TS。
  视频的编码格式为 H264，音频编码格式为 MP3、AAC...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/low_latency_encoding/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1725552000"
  data-df="ll"
  
>
  Sep  6, 2024
</time>

              <h4 class="pt-0 my-2">使用 VideoToolbox 完成低延时视频编码</h4>
              <div class="text-muted">
                <p>
                  





                  Low Latency Pipeline

                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/av_into/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>音视频及其数字化表示</p>
    </a>
  

  
    <a
      href="/posts/hls_intro/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>HLS 协议介绍</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->

  
  <!-- https://giscus.app/ -->
<script type="text/javascript">
  (function () {
    const origin = 'https://giscus.app';
    const iframe = 'iframe.giscus-frame';
    const lightTheme = 'light';
    const darkTheme = 'dark_dimmed';

    let initTheme = lightTheme;
    const html = document.documentElement;

    if (
      (html.hasAttribute('data-mode') &&
        html.getAttribute('data-mode') === 'dark') ||
      (!html.hasAttribute('data-mode') &&
        window.matchMedia('(prefers-color-scheme: dark)').matches)
    ) {
      initTheme = darkTheme;
    }

    let giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'bitnpc/bitnpc.github.io',
      'data-repo-id': 'R_kgDOJoJvzw',
      'data-category': 'General',
      'data-category-id': 'DIC_kwDOJoJvz84CWxsD',
      'data-mapping': 'pathname',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-theme': initTheme,
      'data-input-position': 'bottom',
      'data-lang': 'en',
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: ''
    };

    let giscusScript = document.createElement('script');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusScript.setAttribute(key, value)
    );
    document.getElementById('tail-wrapper').appendChild(giscusScript);

    addEventListener('message', (event) => {
      if (
        event.source === window &&
        event.data &&
        event.data.direction === ModeToggle.ID
      ) {
        /* global theme mode changed */
        const mode = event.data.message;
        const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme;

        const message = {
          setConfig: {
            theme: theme
          }
        };

        const giscus = document.querySelector(iframe).contentWindow;
        giscus.postMessage({ giscus: message }, origin);
      }
    });
  })();
</script>



            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>
    ©
    <time>2025</time>
    <a href="https://twitter.com/bitnpc">Tony</a>.
    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/">音视频</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">leetcode</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ios/">iOS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/macos/">macOS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/p2p/">P2P</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/bfs/">BFS</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/crash/">Crash</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/deepseek/">Deepseek</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/dfs/">DFS</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.21.2/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

